@using Blazorise.Extensions
@typeparam TNodeData

<CascadingValue Value="@this">

    @NodeContent(new TreeViewNodeContext<TNodeData>() { Nodedata = NodeData, NodeComponent = this })

    @if (IsExpanded && HasChildren(NodeData) && !Children.IsNullOrEmpty())
    {
        @foreach (var child in Children)
        {
            <TreeNodeComponent
                DefaultExpandedDeepin="DefaultExpandedDeepin"
                Deepin="@(Deepin + 1)"
                NodeData="@child"
                NodeContent="NodeContent"
                GetChildren="GetChildren"
                ExpandedNodes="ExpandedNodes"
                ExpandedNodesChanged="ExpandedNodesChanged"
                HasChildren="HasChildren"/>
        }
    }

</CascadingValue>